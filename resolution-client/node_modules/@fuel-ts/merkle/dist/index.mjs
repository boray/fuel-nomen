import{EMPTY as m,hash as p}from"@fuel-ts/merkle-shared";var f=class{left;right;parent;hash;data;index;constructor(t,i,r,s,h,e=0){this.left=t,this.right=i,this.parent=r,this.hash=s,this.data=h,this.index=e}},c=f;function x(n){return p("0x00".concat(n.slice(2)))}function d(n,t){return p("0x01".concat(n.slice(2)).concat(t.slice(2)))}function j(n){let t=[];for(let e=0;e<n.length;e+=1){let o=x(n[e]),l=new c(-1,-1,-1,o,n[e]);l.index=e,t.push(l)}let i=[...t],r=[...t],s=t.length+1>>1,h=t.length&1;for(;;){let e=0;for(;e<s-h;e+=1){let o=e<<1,l=d(r[o].hash,r[o+1].hash);t[e]=new c(r[o].index,r[o+1].index,-1,l,"");let u=i.length;t[e].index=u,i[r[o].index].parent=u,i[r[o+1].index].parent=u,i.push(t[e])}if(s===1)break;h===1&&(t[e]=r[e<<1]),h=s&1,s=s+1>>1,r=[...t]}return i}function k(n){if(!n.length)return m;let t=[];for(let h=0;h<n.length;h+=1){let e=x(n[h]);t.push(new c(-1,-1,-1,e,n[h]))}let i=t,r=t.length+1>>1,s=t.length&1;for(;;){let h=0;for(;h<r-s;h+=1){let e=h<<1,o=d(i[e].hash,i[e+1].hash);t[h]=new c(i[e].index,i[e+1].index,-1,o,"")}if(s===1&&(t[h]=i[h<<1]),r===1)break;s=r&1,r=r+1>>1,i=t}return t[0].hash}function z(n,t){let i=[];for(let r=t,s=n[t].parent;s!==-1;r=s,s=n[s].parent)n[s].left===r?i.push(n[n[s].right].hash):i.push(n[n[s].left].hash);return i}export{k as calcRoot,j as constructTree,z as getProof,x as hashLeaf,d as hashNode};
//# sourceMappingURL=index.mjs.map