"use strict";var a=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var N=(e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})},j=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of b(t))!w.call(e,n)&&n!==r&&a(e,n,{get:()=>t[n],enumerable:!(i=m(t,n))||i.enumerable});return e};var k=e=>j(a({},"__esModule",{value:!0}),e);var T={};N(T,{calcRoot:()=>L,constructTree:()=>z,getProof:()=>P,hashLeaf:()=>p,hashNode:()=>x});module.exports=k(T);var l=require("@fuel-ts/merkle-shared");var g=class{left;right;parent;hash;data;index;constructor(t,r,i,n,h,s=0){this.left=t,this.right=r,this.parent=i,this.hash=n,this.data=h,this.index=s}},c=g;function p(e){return(0,l.hash)("0x00".concat(e.slice(2)))}function x(e,t){return(0,l.hash)("0x01".concat(e.slice(2)).concat(t.slice(2)))}function z(e){let t=[];for(let s=0;s<e.length;s+=1){let o=p(e[s]),u=new c(-1,-1,-1,o,e[s]);u.index=s,t.push(u)}let r=[...t],i=[...t],n=t.length+1>>1,h=t.length&1;for(;;){let s=0;for(;s<n-h;s+=1){let o=s<<1,u=x(i[o].hash,i[o+1].hash);t[s]=new c(i[o].index,i[o+1].index,-1,u,"");let f=r.length;t[s].index=f,r[i[o].index].parent=f,r[i[o+1].index].parent=f,r.push(t[s])}if(n===1)break;h===1&&(t[s]=i[s<<1]),h=n&1,n=n+1>>1,i=[...t]}return r}function L(e){if(!e.length)return l.EMPTY;let t=[];for(let h=0;h<e.length;h+=1){let s=p(e[h]);t.push(new c(-1,-1,-1,s,e[h]))}let r=t,i=t.length+1>>1,n=t.length&1;for(;;){let h=0;for(;h<i-n;h+=1){let s=h<<1,o=x(r[s].hash,r[s+1].hash);t[h]=new c(r[s].index,r[s+1].index,-1,o,"")}if(n===1&&(t[h]=r[h<<1]),i===1)break;n=i&1,i=i+1>>1,r=t}return t[0].hash}function P(e,t){let r=[];for(let i=t,n=e[t].parent;n!==-1;i=n,n=e[n].parent)e[n].left===i?r.push(e[e[n].right].hash):r.push(e[e[n].left].hash);return r}0&&(module.exports={calcRoot,constructTree,getProof,hashLeaf,hashNode});
//# sourceMappingURL=index.js.map